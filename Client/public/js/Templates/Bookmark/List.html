<% if (collection && collection.length){%>

<h1>Bookmarks list</h1>
<!--<h2>Sorted by <%=sortBy%></h2>-->

<table class="table table-striped">
    <tr>
        <th data-sort="RowKey" class="<%=sortBy=='RowKey'?'text-danger':''%>">ID</th>
        <th data-sort="title" class="<%=sortBy=='title'?'text-danger':''%>">Title</th>
        <th data-sort="link" class="<%=sortBy=='link'?'text-danger':''%>">Link</th>
        <th data-sort="desc" class="<%=sortBy=='desc'?'text-danger':''%>">description</th>
        <th data-sort="priority" class="<%=sortBy=='priority'?'text-danger':''%>">priority</th>
        <th data-sort="Timestamp" class="<%=sortBy=='Timestamp'?'text-danger':''%>">timestamp</th>
        <th>Action</th>
    </tr>

    <tbody>
        <%  _.each(collection, function(item){%>
            <tr>
                <td><%=item.RowKey%></td>

                <td>
                    <%=item.title%>
                </td>

                <td>
                    <% if (item.location){ %>
                        <a href="<%=item.location%>" target="_blank">[<%=item.location%>]</a>
                    <% } %>
                </td>

                <td><%=item.desc%></td>

                <td><%=item.priority%></td>
                <td class="text-nowrap"><%=moment(item.Timestamp).format('LLL')%></td>

                <td class="text-nowrap">
                    <a href="#item/<%=item.RowKey%>" class="btn btn-default">
                        <span class="glyphicon glyphicon-edit"></span>
                         Edit
                    </a>

                    <button data-id="<%=item.RowKey%>" class="js-remove btn btn-danger">
                        <span class="glyphicon glyphicon-remove"></span>
                        Remove
                    </button>

                </td>

            </tr>
        <% }) %>

    </tbody>

</table>

<% } else { %>
    <p class="Wait, loading">Please wait, loading...</p>
<%}%>